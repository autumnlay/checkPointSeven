import{a as o,l,A as n,_ as I,E as g,e as y,b as f}from"./index.4efd36cc.js";import{z as w,c as d,a as x,o as i,b as r,d as a,t as v,F as p,A as S,s as E,x as b,e as F}from"./vendor.46053ffe.js";class _{constructor(e){this.eventId=e.eventId,this.attendeeId=e.id,this.accountId=e.accountId}}class m extends _{constructor(e){super(e);this.id=e.event.id,this.name=e.event.name,this.description=e.event.description,this.coverImg=e.event.coverImg,this.location=e.event.location,this.capacity=e.event.capacity,this.startDate=e.event.startDate,this.isCanceled=e.event.isCanceled,this.type=e.event.type,this.creatorId=e.event.creatorId}}class h extends _{constructor(e){super(e);this.id=e.account.id,this.name=e.account.name,this.picture=e.account.picture}}class k{async getAttendeesForAccount(){const e=await o.get("account/attendees");l.log("accountAttendees",e.data),n.myAttendees=e.data.map(t=>new m(t))}async getattendeeForevent(e){const t=await o.get(`api/events/${e}/attendee`);l.log("event Attendee",t.data),n.attendees=t.data.map(c=>new h(c))}async create(e){const t=await o.post("api/attendee",e);n.myAttendees=new m(t.data),n.attendees.unshift(new h(t.data))}async edit(e){await o.put("api/attendee/"+e.attendeeId,e);const t=n.attendees.findIndex(c=>c.attendeeId===e.attendeeId);n.attendees.splice(t,1,e)}async remove(e){await o.delete("api/attendee/"+e),n.attendees=n.attendees.filter(t=>t.attendeeId!==e)}}const B=new k;const C={components:{Event:g},name:"Account",setup(){return w(s=>{y.getAll("?eventId="+f.userInfo.id),B.getAttendeesForAccount()}),{account:d(()=>n.account),events:d(()=>n.events),myAttendees:d(()=>n.myAttendees)}}},D=s=>(E("data-v-b478fe98"),s=s(),b(),s),j={class:"about text-center"},M=["src"],N={class:"row"},P=D(()=>a("h3",null,"My Events",-1));function V(s,e,t,c,z,L){const A=x("Event");return i(),r(p,null,[a("div",j,[a("h1",null,"Welcome "+v(c.account.name),1),a("img",{class:"rounded",src:c.account.picture,alt:""},null,8,M),a("p",null,v(c.account.email),1)]),a("div",N,[P,(i(!0),r(p,null,S(c.events,u=>(i(),r("div",{class:"col-md-4",key:u.id},[F(A,{event:u},null,8,["event"])]))),128))])],64)}var q=I(C,[["render",V],["__scopeId","data-v-b478fe98"]]);export{q as default};
